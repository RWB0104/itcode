"use strict";(self.webpackChunkitcode_dev=self.webpackChunkitcode_dev||[]).push([[568],{1599:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(9953),o=n(9961);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var a=r(i),c=s(i);const u=i.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),l=i.createContext({}),h=i.createContext(null),d=o.isBrowser?i.useLayoutEffect:i.useEffect,m=i.createContext({strict:!1});function p(t){const{initial:e,animate:n}=function(t,e){if(o.isControllingVariants(t)){const{initial:e,animate:n}=t;return{initial:!1===e||o.isVariantLabel(e)?e:void 0,animate:o.isVariantLabel(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,i.useContext(l));return i.useMemo((()=>({initial:e,animate:n})),[f(e),f(n)])}function f(t){return Array.isArray(t)?t.join(" "):t}function g(t){for(const e in t)o.featureDefinitions[e]={...o.featureDefinitions[e],...t[e]}}const y=i.createContext({}),v=i.createContext({}),x=Symbol.for("motionComponentSymbol");function P({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&g(t);const c=i.forwardRef((function(c,f){let g;const y={...i.useContext(u),...c,layoutId:E(c)},{isStatic:x}=y,P=p(c),T=s(c,x);if(!x&&o.isBrowser){P.visualElement=function(t,e,n,o){const{visualElement:s}=i.useContext(l),r=i.useContext(m),a=i.useContext(h),c=i.useContext(u).reducedMotion,p=i.useRef();o=o||r.renderer,!p.current&&o&&(p.current=o(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:c}));const f=p.current;return i.useInsertionEffect((()=>{f&&f.update(n,a)})),d((()=>{f&&f.render()})),i.useEffect((()=>{f&&f.updateFeatures()})),(window.HandoffAppearAnimations?d:i.useEffect)((()=>{f&&f.animationState&&f.animationState.animateChanges()})),f}(r,T,y,e);const n=i.useContext(v),o=i.useContext(m).strict;P.visualElement&&(g=P.visualElement.loadFeatures(y,o,t,n))}return a.createElement(l.Provider,{value:P},g&&P.visualElement?a.createElement(g,{visualElement:P.visualElement,...y}):null,n(r,c,function(t,e,n){return i.useCallback((i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&("function"==typeof n?n(i):o.isRefObject(n)&&(n.current=i))}),[e])}(T,P.visualElement,f),T,x,P.visualElement))}));return c[x]=r,c}function E({layoutId:t}){const e=i.useContext(y).id;return e&&void 0!==t?e+"-"+t:t}function T(t){function e(e,n={}){return P(t(e,n))}if("undefined"==typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const S=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A(t){return"string"==typeof t&&!t.includes("-")&&!!(S.indexOf(t)>-1||/[A-Z]/.test(t))}const C=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D(t,e,n){for(const i in e)o.isMotionValue(e[i])||o.isForcedMotionValue(i,n)||(t[i]=e[i])}function w(t,e,n){const s={};return D(s,t.style||{},t),Object.assign(s,function({transformTemplate:t},e,n){return i.useMemo((()=>{const i=C();return o.buildHTMLStyles(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)}),[e])}(t,e,n)),t.transformValues?t.transformValues(s):s}function b(t,e,n){const i={},o=w(t,e,n);return t.drag&&!1!==t.dragListener&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=o,i}const V=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function R(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||V.has(t)}let L=t=>!R(t);function M(t){t&&(L=e=>e.startsWith("on")?!R(e):t(e))}try{M(n(6113).Z)}catch(Qn){}function B(t,e,n){const i={};for(const o in t)"values"===o&&"object"==typeof t.values||(L(o)||!0===n&&R(o)||!e&&!R(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const j=()=>({...C(),attrs:{}});function k(t,e,n,s){const r=i.useMemo((()=>{const n=j();return o.buildSVGAttrs(n,e,{enableHardwareAcceleration:!1},o.isSVGTag(s),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};D(e,t.style,t),r.style={...e,...r.style}}return r}function I(t=!1){return(e,n,s,{latestValues:r},a)=>{const c=(A(e)?k:b)(n,r,a,e),u={...B(n,"string"==typeof e,t),...c,ref:s},{children:l}=n,h=i.useMemo((()=>o.isMotionValue(l)?l.get():l),[l]);return i.createElement(e,{...u,children:h})}}function F(t){const e=i.useRef(null);return null===e.current&&(e.current=t()),e.current}function O(t){const e=o.isMotionValue(t)?t.get():t;return o.isCustomValue(e)?e.toValue():e}const U=t=>(e,n)=>{const o=i.useContext(l),s=i.useContext(h),r=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,o,s){const r={latestValues:G(i,o,s,t),renderState:e()};return n&&(r.mount=t=>n(i,t,r)),r}(t,e,o,s);return n?r():F(r)};function G(t,e,n,i){const s={},r=i(t,{});for(const o in r)s[o]=O(r[o]);let{initial:a,animate:c}=t;const u=o.isControllingVariants(t),l=o.isVariantNode(t);e&&l&&!u&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===c&&(c=e.animate));let h=!!n&&!1===n.initial;h=h||!1===a;const d=h?c:a;if(d&&"boolean"!=typeof d&&!o.isAnimationControls(d)){(Array.isArray(d)?d:[d]).forEach((e=>{const n=o.resolveVariantFromProps(t,e);if(!n)return;const{transitionEnd:i,transition:r,...a}=n;for(const t in a){let e=a[t];if(Array.isArray(e)){e=e[h?e.length-1:0]}null!==e&&(s[t]=e)}for(const t in i)s[t]=i[t]}))}return s}const z={useVisualState:U({scrapeMotionValuesFromProps:o.scrapeMotionValuesFromProps,createRenderState:j,onMount:(t,e,{renderState:n,latestValues:i})=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(s){n.dimensions={x:0,y:0,width:0,height:0}}o.buildSVGAttrs(n,i,{enableHardwareAcceleration:!1},o.isSVGTag(e.tagName),t.transformTemplate),o.renderSVG(e,n)}})},N={useVisualState:U({scrapeMotionValuesFromProps:o.scrapeMotionValuesFromProps$1,createRenderState:C})};function H(t,{forwardMotionProps:e=!1},n,i){return{...A(t)?z:N,preloadedFeatures:n,useRender:I(e),createVisualElement:i,Component:t}}function W(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const $=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function Y(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const X=t=>e=>$(e)&&t(e,Y(e));function _(t,e,n,i){return W(t,e,X(n),i)}function K(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const q=K("dragHorizontal"),Z=K("dragVertical");function J(t){let e=!1;if("y"===t)e=Z();else if("x"===t)e=q();else{const t=q(),n=Z();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function Q(){const t=J(!0);return!t||(t(),!1)}class tt{constructor(t){this.isMounted=!1,this.node=t}update(){}}function et(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End");return _(t.current,n,((n,s)=>{if("touch"===n.type||Q())return;const r=t.getProps();t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",e),r[i]&&o.frame.update((()=>r[i](n,s)))}),{passive:!t.getProps()[i]})}const nt=(t,e)=>!!e&&(t===e||nt(t,e.parentElement));function it(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Y(n))}const ot=new WeakMap,st=new WeakMap,rt=t=>{const e=ot.get(t.target);e&&e(t)},at=t=>{t.forEach(rt)};function ct(t,e,n){const i=function({root:t,...e}){const n=t||document;st.has(n)||st.set(n,{});const i=st.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(at,{root:t,...e})),i[o]}(e);return ot.set(t,n),i.observe(t),()=>{ot.delete(t),i.unobserve(t)}}const ut={some:0,all:1};const lt={inView:{Feature:class extends tt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:i="some",once:o}=t,s={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof i?i:ut[i]};return ct(this.node.current,s,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,o&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=e?n:i;s&&s(t)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends tt{constructor(){super(...arguments),this.removeStartListeners=o.noop,this.removeEndListeners=o.noop,this.removeAccessibleListeners=o.noop,this.startPointerPress=(t,e)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),i=_(window,"pointerup",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:i}=this.node.getProps();o.frame.update((()=>{nt(this.node.current,t.target)?n&&n(t,e):i&&i(t,e)}))}),{passive:!(n.onTap||n.onPointerUp)}),s=_(window,"pointercancel",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=o.pipe(i,s),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=W(this.node.current,"keydown",(t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=W(this.node.current,"keyup",(t=>{"Enter"===t.key&&this.checkPressEnd()&&it("up",((t,e)=>{const{onTap:n}=this.node.getProps();n&&o.frame.update((()=>n(t,e)))}))})),it("down",((t,e)=>{this.startPress(t,e)}))})),e=W(this.node.current,"blur",(()=>{this.isPressing&&it("cancel",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=o.pipe(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&o.frame.update((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Q()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&o.frame.update((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=_(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=W(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=o.pipe(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends tt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=o.pipe(W(this.node.current,"focus",(()=>this.onFocus())),W(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends tt{mount(){this.unmount=o.pipe(et(this.node,!0),et(this.node,!1))}unmount(){}}}};function ht(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function dt(t,e,n={}){const i=o.resolveVariant(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(o.animateTarget(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(i=0)=>{const{delayChildren:o=0,staggerChildren:r,staggerDirection:a}=s;return function(t,e,n=0,i=0,o=1,s){const r=[],a=(t.variantChildren.size-1)*i,c=1===o?(t=0)=>t*i:(t=0)=>a-t*i;return Array.from(t.variantChildren).sort(mt).forEach(((t,i)=>{t.notify("AnimationStart",e),r.push(dt(t,e,{...s,delay:n+c(i)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(r)}(t,e,o+i,r,a,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[t,e]="beforeChildren"===c?[r,a]:[a,r];return t().then((()=>e()))}return Promise.all([r(),a(n.delay)])}function mt(t,e){return t.sortNodePosition(e)}function pt(t,e,n={}){let i;if(t.notify("AnimationStart",e),Array.isArray(e)){const o=e.map((e=>dt(t,e,n)));i=Promise.all(o)}else if("string"==typeof e)i=dt(t,e,n);else{const s="function"==typeof e?o.resolveVariant(t,e,n.custom):e;i=Promise.all(o.animateTarget(t,s,n))}return i.then((()=>t.notify("AnimationComplete",e)))}const ft=[...o.variantPriorityOrder].reverse(),gt=o.variantPriorityOrder.length;function yt(t){let e=function(t){return e=>Promise.all(e.map((({animation:e,options:n})=>pt(t,e,n))))}(t);const n={animate:xt(!0),whileInView:xt(),whileHover:xt(),whileTap:xt(),whileDrag:xt(),whileFocus:xt(),exit:xt()};let i=!0;const s=(e,n)=>{const i=o.resolveVariant(t,n);if(i){const{transition:t,transitionEnd:n,...o}=i;e={...e,...o,...n}}return e};function r(r,a){const c=t.getProps(),u=t.getVariantContext(!0)||{},l=[],h=new Set;let d={},m=1/0;for(let e=0;e<gt;e++){const p=ft[e],f=n[p],g=void 0!==c[p]?c[p]:u[p],y=o.isVariantLabel(g),v=p===a?f.isActive:null;!1===v&&(m=e);let x=g===u[p]&&g!==c[p]&&y;if(x&&i&&t.manuallyAnimateOnMount&&(x=!1),f.protectedKeys={...d},!f.isActive&&null===v||!g&&!f.prevProp||o.isAnimationControls(g)||"boolean"==typeof g)continue;const P=vt(f.prevProp,g);let E=P||p===a&&f.isActive&&!x&&y||e>m&&y;const T=Array.isArray(g)?g:[g];let S=T.reduce(s,{});!1===v&&(S={});const{prevResolvedValues:A={}}=f,C={...A,...S},D=t=>{E=!0,h.delete(t),f.needsAnimating[t]=!0};for(const t in C){const e=S[t],n=A[t];d.hasOwnProperty(t)||(e!==n?o.isKeyframesTarget(e)&&o.isKeyframesTarget(n)?!ht(e,n)||P?D(t):f.protectedKeys[t]=!0:void 0!==e?D(t):h.add(t):void 0!==e&&h.has(t)?D(t):f.protectedKeys[t]=!0)}f.prevProp=g,f.prevResolvedValues=S,f.isActive&&(d={...d,...S}),i&&t.blockInitialAnimation&&(E=!1),E&&!x&&l.push(...T.map((t=>({animation:t,options:{type:p,...r}}))))}if(h.size){const e={};h.forEach((n=>{const i=t.getBaseTarget(n);void 0!==i&&(e[n]=i)})),l.push({animation:e})}let p=Boolean(l.length);return i&&!1===c.initial&&!t.manuallyAnimateOnMount&&(p=!1),i=!1,p?e(l):Promise.resolve()}return{animateChanges:r,setActive:function(e,i,o){var s;if(n[e].isActive===i)return Promise.resolve();null===(s=t.variantChildren)||void 0===s||s.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,i)})),n[e].isActive=i;const a=r(o,e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function vt(t,e){return"string"==typeof e?e!==t:!!Array.isArray(e)&&!ht(e,t)}function xt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Pt=0;const Et={animation:{Feature:class extends tt{constructor(t){super(t),t.animationState||(t.animationState=yt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),o.isAnimationControls(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends tt{constructor(){super(...arguments),this.id=Pt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:null!=n?n:this.node.getProps().custom});e&&!t&&o.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}};class Tt{constructor(t,e,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Ct(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=o.distance2D(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:i}=t,{timestamp:s}=o.frameData;this.history.push({...i,timestamp:s});const{onStart:r,onMove:a}=this.handlers;e||(r&&r(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=St(e,this.transformPagePoint),o.frame.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:i}=this.handlers,o=Ct("pointercancel"===t.type?this.lastMoveEventInfo:St(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),i&&i(t,o)},!$(t))return;this.handlers=e,this.transformPagePoint=n;const i=St(Y(t),this.transformPagePoint),{point:s}=i,{timestamp:r}=o.frameData;this.history=[{...s,timestamp:r}];const{onSessionStart:a}=e;a&&a(t,Ct(i,this.history)),this.removeListeners=o.pipe(_(window,"pointermove",this.handlePointerMove),_(window,"pointerup",this.handlePointerUp),_(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),o.cancelFrame(this.updatePoint)}}function St(t,e){return e?{point:e(t.point)}:t}function At(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ct({point:t},e){return{point:t,delta:At(t,wt(e)),offset:At(t,Dt(e)),velocity:bt(e,.1)}}function Dt(t){return t[0]}function wt(t){return t[t.length-1]}function bt(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=wt(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>o.secondsToMilliseconds(e)));)n--;if(!i)return{x:0,y:0};const r=o.millisecondsToSeconds(s.timestamp-i.timestamp);if(0===r)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Vt(t){return t.max-t.min}function Rt(t,e=0,n=.01){return Math.abs(t-e)<=n}function Lt(t,e,n,i=.5){t.origin=i,t.originPoint=o.mix(e.min,e.max,t.origin),t.scale=Vt(n)/Vt(e),(Rt(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=o.mix(n.min,n.max,t.origin)-t.originPoint,(Rt(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Mt(t,e,n,i){Lt(t.x,e.x,n.x,i?i.originX:void 0),Lt(t.y,e.y,n.y,i?i.originY:void 0)}function Bt(t,e,n){t.min=n.min+e.min,t.max=t.min+Vt(e)}function jt(t,e,n){t.min=e.min-n.min,t.max=t.min+Vt(e)}function kt(t,e,n){jt(t.x,e.x,n.x),jt(t.y,e.y,n.y)}function It(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function Ft(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}const Ot=.35;function Ut(t,e,n){return{min:Gt(t,e),max:Gt(t,n)}}function Gt(t,e){return"number"==typeof t?t:t[e]||0}function zt(t){return[t("x"),t("y")]}const Nt=new WeakMap;class Ht{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=o.createBox(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new Tt(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(Y(t,"page").point)},onStart:(t,e)=>{const{drag:n,dragPropagation:i,onDragStart:s}=this.getProps();if(n&&!i&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=J(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt((t=>{let e=this.getAxisMotionValue(t).get()||0;if(o.percent.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[t];if(i){e=Vt(i)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),s&&o.frame.update((()=>s(t,e)),!1,!0);const{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:o,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:r}=e;if(i&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(r),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",e.point,r),this.updateAxis("y",e.point,r),this.visualElement.render(),s&&s(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=e;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&o.frame.update((()=>s(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:i}=this.getProps();if(!n||!Wt(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let r=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(r=function(t,{min:e,max:n},i){return void 0!==e&&t<e?t=i?o.mix(e,t,i.min):Math.max(t,e):void 0!==n&&t>n&&(t=i?o.mix(n,t,i.max):Math.min(t,n)),t}(r,this.constraints[t],this.elastic[t])),s.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;t&&o.isRefObject(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,{top:e,left:n,bottom:i,right:o}){return{x:It(t.x,n,o),y:It(t.y,e,i)}}(n.layoutBox,t),this.elastic=function(t=Ot){return!1===t?t=0:!0===t&&(t=Ot),{x:Ut(t,"left","right"),y:Ut(t,"top","bottom")}}(e),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&zt((t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!o.isRefObject(t))return!1;const n=t.current;o.invariant(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=o.measurePageBox(n,i.root,this.visualElement.getTransformPagePoint());let r=function(t,e){return{x:Ft(t.x,e.x),y:Ft(t.y,e.y)}}(i.layout.layoutBox,s);if(e){const t=e(o.convertBoxToBoundingBox(r));this.hasMutatedConstraints=!!t,t&&(r=o.convertBoundingBoxToBox(t))}return r}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:r}=this.getProps(),a=this.constraints||{},c=zt((r=>{if(!Wt(r,e,this.currentDirection))return;let c=a&&a[r]||{};s&&(c={min:0,max:0});const u=i?200:1e6,l=i?40:1e7,h={type:"inertia",velocity:n?t[r]:0,bounceStiffness:u,bounceDamping:l,timeConstant:750,restDelta:1,restSpeed:10,...o,...c};return this.startAxisValueAnimation(r,h)}));return Promise.all(c).then(r)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(o.animateMotionValue(t,n,0,e))}stopAnimation(){zt((t=>this.getAxisMotionValue(t).stop()))}getAxisMotionValue(t){const e="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[e];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){zt((e=>{const{drag:n}=this.getProps();if(!Wt(e,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(e);if(i&&i.layout){const{min:n,max:r}=i.layout.layoutBox[e];s.set(t[e]-o.mix(n,r,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!o.isRefObject(e)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zt((t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();i[t]=function(t,e){let n=.5;const i=Vt(t),s=Vt(e);return s>i?n=o.progress(e.min,e.max-i,t.min):i>s&&(n=o.progress(t.min,t.max-s,e.min)),o.clamp(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zt((e=>{if(!Wt(e,t,null))return;const n=this.getAxisMotionValue(e),{min:s,max:r}=this.constraints[e];n.set(o.mix(s,r,i[e]))}))}addListeners(){if(!this.visualElement.current)return;Nt.set(this.visualElement,this);const t=_(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();o.isRefObject(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),e();const s=W(window,"resize",(()=>this.scalePositionWithinConstraints())),r=n.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(zt((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{s(),t(),i(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ot,dragMomentum:r=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:r}}}function Wt(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}const $t=t=>(e,n)=>{t&&o.frame.update((()=>t(e,n)))};const Yt=["TopLeft","TopRight","BottomLeft","BottomRight"],Xt=Yt.length,_t=t=>"string"==typeof t?parseFloat(t):t,Kt=t=>"number"==typeof t||o.px.test(t);function qt(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const Zt=Qt(0,.5,o.circOut),Jt=Qt(.5,.95,o.noop);function Qt(t,e,n){return i=>i<t?0:i>e?1:n(o.progress(t,e,i))}function te(t,e){t.min=e.min,t.max=e.max}function ee(t,e){te(t.x,e.x),te(t.y,e.y)}function ne(t,e,n,i,s){return t-=e,t=o.scalePoint(t,1/n,i),void 0!==s&&(t=o.scalePoint(t,1/s,i)),t}function ie(t,e,[n,i,s],r,a){!function(t,e=0,n=1,i=.5,s,r=t,a=t){o.percent.test(e)&&(e=parseFloat(e),e=o.mix(a.min,a.max,e/100)-a.min);if("number"!=typeof e)return;let c=o.mix(r.min,r.max,i);t===r&&(c-=e),t.min=ne(t.min,e,n,c,s),t.max=ne(t.max,e,n,c,s)}(t,e[n],e[i],e[s],e.scale,r,a)}const oe=["x","scaleX","originX"],se=["y","scaleY","originY"];function re(t,e,n,i){ie(t.x,e,oe,n?n.x:void 0,i?i.x:void 0),ie(t.y,e,se,n?n.y:void 0,i?i.y:void 0)}function ae(t){return 0===t.translate&&1===t.scale}function ce(t){return ae(t.x)&&ae(t.y)}function ue(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function le(t){return Vt(t.x)/Vt(t.y)}class he{constructor(){this.members=[]}add(t){o.addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(o.removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let i=e;i>=0;i--){const t=this.members[i];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function de(t,e,n){let i="";const o=t.x.translate/e.x,s=t.y.translate/e.y;if((o||s)&&(i=`translate3d(${o}px, ${s}px, 0) `),1===e.x&&1===e.y||(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:t,rotateX:e,rotateY:o}=n;t&&(i+=`rotate(${t}deg) `),e&&(i+=`rotateX(${e}deg) `),o&&(i+=`rotateY(${o}deg) `)}const r=t.x.scale*e.x,a=t.y.scale*e.y;return 1===r&&1===a||(i+=`scale(${r}, ${a})`),i||"none"}const me=(t,e)=>t.depth-e.depth;class pe{constructor(){this.children=[],this.isDirty=!1}add(t){o.addUniqueItem(this.children,t),this.isDirty=!0}remove(t){o.removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(me),this.isDirty=!1,this.children.forEach(t)}}const fe={hasAnimatedSinceResize:!0,hasEverUpdated:!1};const ge=["","X","Y","Z"];let ye=0;const ve={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function xe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(t={},n=(null==e?void 0:e())){this.id=ye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var t;ve.totalNodes=ve.resolvedTargetDeltas=ve.recalculatedProjection=0,this.nodes.forEach(Te),this.nodes.forEach(Ve),this.nodes.forEach(Re),this.nodes.forEach(Se),t=ve,window.MotionDebug&&window.MotionDebug.record(t)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new pe)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new o.SubscriptionManager),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=o.isSVGElement(e),this.instance=e;const{layoutId:i,layout:s,visualElement:r}=this.options;if(r&&!r.current&&r.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const i=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=o.delay(i,250),fe.hasAnimatedSinceResize&&(fe.hasAnimatedSinceResize=!1,this.nodes.forEach(be))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&r&&(i||s)&&this.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:i})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||r.getDefaultTransition()||Ie,{onLayoutAnimationStart:a,onLayoutAnimationComplete:c}=r.getProps(),u=!this.targetLayout||!ue(this.targetLayout,i)||n,l=!e&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||l||e&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,l);const e={...o.getValueTransition(s,"layout"),onPlay:a,onComplete:c};(r.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||be(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,o.cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Le),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const t=this.path[o];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ce);this.isUpdating||this.nodes.forEach(De),this.isUpdating=!1,this.nodes.forEach(we),this.nodes.forEach(Pe),this.nodes.forEach(Ee),this.clearAllSnapshots();const t=performance.now();o.frameData.delta=o.clamp(0,1e3/60,t-o.frameData.timestamp),o.frameData.timestamp=t,o.frameData.isProcessing=!0,o.steps.update.process(o.frameData),o.steps.preRender.process(o.frameData),o.steps.render.process(o.frameData),o.frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Ae),this.sharedNodes.forEach(Me)}scheduleUpdateProjection(){o.frame.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){o.frame.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=o.createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!ce(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;t&&(e||o.hasTransform(this.latestValues)||r)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const e=this.measurePageBox();let n=this.removeElementScroll(e);var i;return t&&(n=this.removeTransform(n)),Fe((i=n).x),Fe(i.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return o.createBox();const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(o.translateAxis(e.x,n.offset.x),o.translateAxis(e.y,n.offset.y)),e}removeElementScroll(t){const e=o.createBox();ee(e,t);for(let n=0;n<this.path.length;n++){const i=this.path[n],{scroll:s,options:r}=i;if(i!==this.root&&s&&r.layoutScroll){if(s.isRoot){ee(e,t);const{scroll:n}=this.root;n&&(o.translateAxis(e.x,-n.offset.x),o.translateAxis(e.y,-n.offset.y))}o.translateAxis(e.x,s.offset.x),o.translateAxis(e.y,s.offset.y)}}return e}applyTransform(t,e=!1){const n=o.createBox();ee(n,t);for(let i=0;i<this.path.length;i++){const t=this.path[i];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&o.transformBox(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),o.hasTransform(t.latestValues)&&o.transformBox(n,t.latestValues)}return o.hasTransform(this.latestValues)&&o.transformBox(n,this.latestValues),n}removeTransform(t){const e=o.createBox();ee(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!o.hasTransform(t.latestValues))continue;o.hasScale(t.latestValues)&&t.updateSnapshot();const i=o.createBox();ee(i,t.measurePageBox()),re(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,i)}return o.hasTransform(this.latestValues)&&re(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==o.frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(t||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:s,layoutId:r}=this.options;if(this.layout&&(s||r)){if(this.resolvedRelativeTargetAt=o.frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=o.createBox(),this.relativeTargetOrigin=o.createBox(),kt(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,c,u;if(this.target||(this.target=o.createBox(),this.targetWithTransforms=o.createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,c=this.relativeTarget,u=this.relativeParent.target,Bt(a.x,c.x,u.x),Bt(a.y,c.y,u.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ee(this.target,this.layout.layoutBox),o.applyBoxDelta(this.target,this.targetDelta)):ee(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=o.createBox(),this.relativeTargetOrigin=o.createBox(),kt(this.relativeTargetOrigin,this.target,t.target),ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ve.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!o.hasScale(this.parent.latestValues)&&!o.has2DTranslate(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let i=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===o.frameData.timestamp&&(i=!1),i)return;const{layout:s,layoutId:r}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!r)return;ee(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,c=this.treeScale.y;o.applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox);const{target:u}=e;if(!u)return void(this.projectionTransform&&(this.projectionDelta=o.createDelta(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=o.createDelta(),this.projectionDeltaWithTransform=o.createDelta());const l=this.projectionTransform;Mt(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.projectionTransform=de(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===a&&this.treeScale.y===c||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),ve.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){const n=this.snapshot,i=n?n.latestValues:{},s={...this.latestValues},r=o.createDelta();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a=o.createBox(),c=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),l=!u||u.members.length<=1,h=Boolean(c&&!l&&!0===this.options.crossfade&&!this.path.some(ke));let d;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var u,m,p,f;Be(r.x,t.x,n),Be(r.y,t.y,n),this.setTargetDelta(r),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kt(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u=this.relativeTarget,m=this.relativeTargetOrigin,p=a,f=n,je(u.x,m.x,p.x,f),je(u.y,m.y,p.y,f),d&&ue(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d=o.createBox()),ee(d,this.relativeTarget)),c&&(this.animationValues=s,function(t,e,n,i,s,r){s?(t.opacity=o.mix(0,void 0!==n.opacity?n.opacity:1,Zt(i)),t.opacityExit=o.mix(void 0!==e.opacity?e.opacity:1,0,Jt(i))):r&&(t.opacity=o.mix(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,i));for(let a=0;a<Xt;a++){const s=`border${Yt[a]}Radius`;let r=qt(e,s),c=qt(n,s);void 0===r&&void 0===c||(r||(r=0),c||(c=0),0===r||0===c||Kt(r)===Kt(c)?(t[s]=Math.max(o.mix(_t(r),_t(c),i),0),(o.percent.test(c)||o.percent.test(r))&&(t[s]+="%")):t[s]=c)}(e.rotate||n.rotate)&&(t.rotate=o.mix(e.rotate||0,n.rotate||0,i))}(s,i,this.latestValues,n,h,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(o.cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=o.frame.update((()=>{fe.hasAnimatedSinceResize=!0,this.currentAnimation=o.animateSingleValue(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:i,latestValues:s}=t;if(e&&n&&i){if(this!==t&&this.layout&&i&&Oe(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||o.createBox();const e=Vt(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const i=Vt(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+i}ee(e,n),o.transformBox(e,s),Mt(this.projectionDeltaWithTransform,this.layoutCorrected,e,s)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new he);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const i=this.getStack();i&&i.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(e=!0),!e)return;const i={};for(let o=0;o<ge.length;o++){const e="rotate"+ge[o];n[e]&&(i[e]=n[e],t.setStaticValue(e,0))}t.render();for(const o in i)t.setStaticValue(o,i[o]);t.scheduleRender()}getProjectionStyles(t={}){var e,n;const i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";const s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=O(t.pointerEvents)||"",i.transform=s?s(this.latestValues,""):"none",i;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=O(t.pointerEvents)||""),this.hasProjected&&!o.hasTransform(this.latestValues)&&(e.transform=s?s({},""):"none",this.hasProjected=!1),e}const a=r.animationValues||r.latestValues;this.applyTransformsToTarget(),i.transform=de(this.projectionDeltaWithTransform,this.treeScale,a),s&&(i.transform=s(a,i.transform));const{x:c,y:u}=this.projectionDelta;i.transformOrigin=`${100*c.origin}% ${100*u.origin}% 0`,r.animationValues?i.opacity=r===this?null!==(n=null!==(e=a.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:i.opacity=r===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const l in o.scaleCorrectors){if(void 0===a[l])continue;const{correct:t,applyTo:e}=o.scaleCorrectors[l],n="none"===i.transform?a[l]:t(a[l],r);if(e){const t=e.length;for(let o=0;o<t;o++)i[e[o]]=n}else i[l]=n}return this.options.layoutId&&(i.pointerEvents=r===this?O(t.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(Ce),this.root.sharedNodes.clear()}}}function Pe(t){t.updateLayout()}function Ee(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=t.layout,{animationType:s}=t.options,r=n.source!==t.layout.source;"size"===s?zt((t=>{const i=r?n.measuredBox[t]:n.layoutBox[t],o=Vt(i);i.min=e[t].min,i.max=i.min+o})):Oe(s,n.layoutBox,e)&&zt((i=>{const o=r?n.measuredBox[i]:n.layoutBox[i],s=Vt(e[i]);o.max=o.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[i].max=t.relativeTarget[i].min+s)}));const a=o.createDelta();Mt(a,e,n.layoutBox);const c=o.createDelta();r?Mt(c,t.applyTransform(i,!0),n.measuredBox):Mt(c,e,n.layoutBox);const u=!ce(a);let l=!1;if(!t.resumeFrom){const i=t.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:s,layout:r}=i;if(s&&r){const a=o.createBox();kt(a,n.layoutBox,s.layoutBox);const c=o.createBox();kt(c,e,r.layoutBox),ue(a,c)||(l=!0),i.options.layoutRoot&&(t.relativeTarget=c,t.relativeTargetOrigin=a,t.relativeParent=i)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:l})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function Te(t){ve.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Se(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ae(t){t.clearSnapshot()}function Ce(t){t.clearMeasurements()}function De(t){t.isLayoutDirty=!1}function we(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function be(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ve(t){t.resolveTargetDelta()}function Re(t){t.calcProjection()}function Le(t){t.resetRotation()}function Me(t){t.removeLeadSnapshot()}function Be(t,e,n){t.translate=o.mix(e.translate,0,n),t.scale=o.mix(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function je(t,e,n,i){t.min=o.mix(e.min,n.min,i),t.max=o.mix(e.max,n.max,i)}function ke(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Ie={duration:.45,ease:[.4,0,.1,1]};function Fe(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Oe(t,e,n){return"position"===t||"preserve-aspect"===t&&!Rt(le(e),le(n),.2)}const Ue=xe({attachResizeListener:(t,e)=>W(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ge={current:void 0},ze=xe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ge.current){const t=new Ue({});t.mount(window),t.setOptions({layoutScroll:!0}),Ge.current=t}return Ge.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Ne=t=>!t.isLayoutDirty&&t.willUpdate(!1);function He(){const t=new Set,e=new WeakMap,n=()=>t.forEach(Ne);return{add:i=>{t.add(i),e.set(i,i.addEventListener("willUpdate",n))},remove:i=>{t.delete(i);const o=e.get(i);o&&(o(),e.delete(i)),n()},dirty:n}}function We(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $e={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!o.px.test(t))return t;t=parseFloat(t)}return`${We(t,e.target.x)}% ${We(t,e.target.y)}%`}},Ye={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=o.complex.parse(t);if(s.length>5)return i;const r=o.complex.createTransformer(t),a="number"!=typeof s[0]?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const l=o.mix(c,u,.5);return"number"==typeof s[2+a]&&(s[2+a]/=l),"number"==typeof s[3+a]&&(s[3+a]/=l),r(s)}};function Xe(){const t=i.useContext(h);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:o}=t,s=i.useId();i.useEffect((()=>o(s)),[]);return!e&&n?[!1,()=>n&&n(s)]:[!0]}class _e extends c.default.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;o.addScaleCorrector(qe),s&&(e.group&&e.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fe.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:i,isPresent:s}=this.props,r=n.projection;return r?(r.isPresent=s,i||t.layoutDependency!==e||void 0===e?r.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?r.promote():r.relegate()||o.frame.postRender((()=>{const t=r.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ke(t){const[e,n]=Xe(),o=i.useContext(y);return c.default.createElement(_e,{...t,layoutGroup:o,switchLayoutGroup:i.useContext(v),isPresent:e,safeToRemove:n})}const qe={borderRadius:{...$e,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomLeftRadius:$e,borderBottomRightRadius:$e,boxShadow:Ye},Ze={pan:{Feature:class extends tt{constructor(){super(...arguments),this.removePointerDownListener=o.noop}onPointerDown(t){this.session=new Tt(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:$t(t),onStart:$t(e),onMove:n,onEnd:(t,e)=>{delete this.session,i&&o.frame.update((()=>i(t,e)))}}}mount(){this.removePointerDownListener=_(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends tt{constructor(t){super(t),this.removeGroupControls=o.noop,this.removeListeners=o.noop,this.controls=new Ht(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||o.noop}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ze,MeasureLayout:Ke}},Je=(t,e)=>A(t)?new o.SVGVisualElement(e,{enableHardwareAcceleration:!1}):new o.HTMLVisualElement(e,{enableHardwareAcceleration:!0}),Qe={layout:{ProjectionNode:ze,MeasureLayout:Ke}},tn={...Et,...lt,...Ze,...Qe},en=T(((t,e)=>H(t,e,tn,Je)));const nn=T(H);function on(){const t=i.useRef(!1);return d((()=>(t.current=!0,()=>{t.current=!1})),[]),t}function sn(){const t=on(),[e,n]=i.useState(0),s=i.useCallback((()=>{t.current&&n(e+1)}),[e]);return[i.useCallback((()=>o.frame.postRender(s)),[s]),e]}class rn extends a.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function an({children:t,isPresent:e}){const n=i.useId(),o=i.useRef(null),s=i.useRef({width:0,height:0,top:0,left:0});return i.useInsertionEffect((()=>{const{width:t,height:i,top:r,left:a}=s.current;if(e||!o.current||!t||!i)return;o.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${i}px !important;\n            top: ${r}px !important;\n            left: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[e]),a.createElement(rn,{isPresent:e,childRef:o,sizeRef:s},a.cloneElement(t,{ref:o}))}const cn=({children:t,initial:e,isPresent:n,onExitComplete:o,custom:s,presenceAffectsLayout:r,mode:c})=>{const u=F(un),l=i.useId(),d=i.useMemo((()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:t=>{u.set(t,!0);for(const e of u.values())if(!e)return;o&&o()},register:t=>(u.set(t,!1),()=>u.delete(t))})),r?void 0:[n]);return i.useMemo((()=>{u.forEach(((t,e)=>u.set(e,!1)))}),[n]),a.useEffect((()=>{!n&&!u.size&&o&&o()}),[n]),"popLayout"===c&&(t=a.createElement(an,{isPresent:n},t)),a.createElement(h.Provider,{value:d},t)};function un(){return new Map}function ln(t){return i.useEffect((()=>()=>t()),[])}const hn=t=>t.key||"";function dn(t){return"function"==typeof t}const mn=i.createContext(null),pn=t=>!0===t,fn=({children:t,id:e,inherit:n=!0})=>{const o=i.useContext(y),s=i.useContext(mn),[r,c]=sn(),u=i.useRef(null),l=o.id||s;null===u.current&&((t=>pn(!0===t)||"id"===t)(n)&&l&&(e=e?l+"-"+e:l),u.current={id:e,group:pn(n)&&o.group||He()});const h=i.useMemo((()=>({...u.current,forceRender:r})),[c]);return a.createElement(y.Provider,{value:h},t)},gn=i.createContext(null);const yn=i.forwardRef((function({children:t,as:e="ul",axis:n="y",onReorder:s,values:r,...c},u){const l=F((()=>en(e))),h=[],d=i.useRef(!1);o.invariant(Boolean(r),"Reorder.Group must be provided a values prop");const m={axis:n,registerItem:(t,e)=>{e&&-1===h.findIndex((e=>t===e.value))&&(h.push({value:t,layout:e[n]}),h.sort(xn))},updateOrder:(t,e,n)=>{if(d.current)return;const i=function(t,e,n,i){if(!i)return t;const s=t.findIndex((t=>t.value===e));if(-1===s)return t;const r=i>0?1:-1,a=t[s+r];if(!a)return t;const c=t[s],u=a.layout,l=o.mix(u.min,u.max,.5);return 1===r&&c.layout.max+n>l||-1===r&&c.layout.min+n<l?o.moveItem(t,s,s+r):t}(h,t,e,n);h!==i&&(d.current=!0,s(i.map(vn).filter((t=>-1!==r.indexOf(t)))))}};return i.useEffect((()=>{d.current=!1})),a.createElement(l,{...c,ref:u,ignoreStrict:!0},a.createElement(gn.Provider,{value:m},t))}));function vn(t){return t.value}function xn(t,e){return t.layout.min-e.layout.min}function Pn(t){const e=F((()=>o.motionValue(t))),{isStatic:n}=i.useContext(u);if(n){const[,n]=i.useState(t);i.useEffect((()=>e.on("change",n)),[])}return e}function En(t,e){const n=Pn(e()),i=()=>n.set(e());return i(),d((()=>{const e=()=>o.frame.update(i,!1,!0),n=t.map((t=>t.on("change",e)));return()=>{n.forEach((t=>t())),o.cancelFrame(i)}})),n}function Tn(t,e,n,i){const s="function"==typeof e?e:o.transform(e,n,i);return Array.isArray(t)?Sn(t,s):Sn([t],(([t])=>s(t)))}function Sn(t,e){const n=F((()=>[]));return En(t,(()=>{n.length=0;const i=t.length;for(let e=0;e<i;e++)n[e]=t[e].get();return e(n)}))}function An(t,e=0){return o.isMotionValue(t)?t:Pn(e)}const Cn=i.forwardRef((function({children:t,style:e={},value:n,as:s="li",onDrag:r,layout:c=!0,...u},l){const h=F((()=>en(s))),d=i.useContext(gn),m={x:An(e.x),y:An(e.y)},p=Tn([m.x,m.y],(([t,e])=>t||e?1:"unset")),f=i.useRef(null);o.invariant(Boolean(d),"Reorder.Item must be a child of Reorder.Group");const{axis:g,registerItem:y,updateOrder:v}=d;return i.useEffect((()=>{y(n,f.current)}),[d]),a.createElement(h,{drag:g,...u,dragSnapToOrigin:!0,style:{...e,x:m.x,y:m.y,zIndex:p},layout:c,onDrag:(t,e)=>{const{velocity:i}=e;i[g]&&v(n,m[g].get(),i[g]),r&&r(t,e)},onLayoutMeasure:t=>{f.current=t},ref:l,ignoreStrict:!0},t)})),Dn={Group:yn,Item:Cn},wn={renderer:Je,...Et,...lt},bn={...wn,...Ze,...Qe};function Vn(t,e,n){i.useInsertionEffect((()=>t.on(e,n)),[t,e,n])}function Rn(t,e){o.warning(Boolean(!e||e.current),`You have defined a ${t} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}const Ln=()=>({scrollX:o.motionValue(0),scrollY:o.motionValue(0),scrollXProgress:o.motionValue(0),scrollYProgress:o.motionValue(0)});function Mn({container:t,target:e,layoutEffect:n=!0,...s}={}){const r=F(Ln);return(n?d:i.useEffect)((()=>(Rn("target",e),Rn("container",t),o.scroll((({x:t,y:e})=>{r.scrollX.set(t.current),r.scrollXProgress.set(t.progress),r.scrollY.set(e.current),r.scrollYProgress.set(e.progress)}),{...s,container:(null==t?void 0:t.current)||void 0,target:(null==e?void 0:e.current)||void 0}))),[]),r}function Bn(t){const e=i.useRef(0),{isStatic:n}=i.useContext(u);i.useEffect((()=>{if(n)return;const i=({timestamp:n,delta:i})=>{e.current||(e.current=n),t(n-e.current,i)};return o.frame.update(i,!0),()=>o.cancelFrame(i)}),[t])}class jn extends o.MotionValue{constructor(){super(...arguments),this.members=[],this.transforms=new Set}add(t){let e;o.transformProps.has(t)?(this.transforms.add(t),e="transform"):t.startsWith("origin")||o.isCSSVariableName(t)||"willChange"===t||(e=o.camelToDash(t)),e&&(o.addUniqueItem(this.members,e),this.update())}remove(t){o.transformProps.has(t)?(this.transforms.delete(t),this.transforms.size||o.removeItem(this.members,"transform")):o.removeItem(this.members,o.camelToDash(t)),this.update()}update(){this.set(this.members.length?this.members.join(", "):"auto")}}function kn(){!o.hasReducedMotionListener.current&&o.initPrefersReducedMotion();const[t]=i.useState(o.prefersReducedMotion.current);return t}function In(){let t=!1;const e=new Set,n={subscribe(t){return e.add(t),()=>{e.delete(t)}},start(n,i){o.invariant(t,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");const s=[];return e.forEach((t=>{s.push(pt(t,n,{transitionOverride:i}))})),Promise.all(s)},set(n){return o.invariant(t,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),e.forEach((t=>{o.setValues(t,n)}))},stop(){e.forEach((t=>{!function(t){t.values.forEach((t=>t.stop()))}(t)}))},mount(){return t=!0,()=>{t=!1,n.stop()}}};return n}function Fn(){const t=F(In);return d(t.mount,[]),t}const On=Fn;class Un{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,e){this.componentControls.forEach((n=>{n.start(t.nativeEvent||t,e)}))}}const Gn=()=>new Un;function zn(t){return null!==t&&"object"==typeof t&&x in t}function Nn(){return Hn}function Hn(t){Ge.current&&(Ge.current.isUpdating=!1,Ge.current.blockUpdate(),t&&t())}const Wn=(t,e)=>`${t}: ${e}`,$n=new Map;function Yn(t,e,n,i){const s=Wn(t,o.transformProps.has(e)?"transform":e),r=$n.get(s);if(!r)return 0;const{animation:a,startTime:c}=r,u=()=>{$n.delete(s);try{a.cancel()}catch(t){}};if(null!==c){const t=performance.now();return i.update((()=>{n.animation&&(n.animation.time=o.millisecondsToSeconds(performance.now()-t))})),i.render(u),t-c||0}return u(),0}const Xn=()=>({});class _n extends o.VisualElement{build(){}measureInstanceViewportBox(){return o.createBox()}resetTransform(){}restoreTransform(){}removeValueFromRenderState(){}renderInstance(){}scrapeMotionValuesFromProps(){return{}}getBaseTargetFromProps(){}readValueFromInstance(t,e,n){return n.initialState[e]||0}sortInstanceNodePosition(){return 0}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...n}){const i=o.getOrigin(n,t||{},this);return o.checkTargetForNewValues(this,n,i),{transition:t,transitionEnd:e,...n}}}const Kn=U({scrapeMotionValuesFromProps:Xn,createRenderState:Xn});const qn=t=>t>.001?1/t:1e5;let Zn=!1;let Jn=0;e.MotionValue=o.MotionValue,e.VisualElement=o.VisualElement,e.addScaleCorrector=o.addScaleCorrector,e.animate=o.animate,e.animateValue=o.animateValue,e.anticipate=o.anticipate,e.backIn=o.backIn,e.backInOut=o.backInOut,e.backOut=o.backOut,e.buildTransform=o.buildTransform,e.cancelFrame=o.cancelFrame,e.cancelSync=o.cancelSync,e.checkTargetForNewValues=o.checkTargetForNewValues,e.circIn=o.circIn,e.circInOut=o.circInOut,e.circOut=o.circOut,e.clamp=o.clamp,e.color=o.color,e.complex=o.complex,e.createBox=o.createBox,e.createScopedAnimate=o.createScopedAnimate,e.cubicBezier=o.cubicBezier,e.delay=o.delay,e.distance=o.distance,e.distance2D=o.distance2D,e.easeIn=o.easeIn,e.easeInOut=o.easeInOut,e.easeOut=o.easeOut,e.frame=o.frame,e.frameData=o.frameData,e.inView=o.inView,e.interpolate=o.interpolate,Object.defineProperty(e,"invariant",{enumerable:!0,get:function(){return o.invariant}}),e.isBrowser=o.isBrowser,e.isMotionValue=o.isMotionValue,e.mirrorEasing=o.mirrorEasing,e.mix=o.mix,e.motionValue=o.motionValue,e.optimizedAppearDataAttribute=o.optimizedAppearDataAttribute,e.pipe=o.pipe,e.progress=o.progress,e.px=o.px,e.reverseEasing=o.reverseEasing,e.scroll=o.scroll,e.spring=o.spring,e.stagger=o.stagger,e.steps=o.steps,e.stepsOrder=o.stepsOrder,e.sync=o.sync,e.transform=o.transform,e.visualElementStore=o.visualElementStore,Object.defineProperty(e,"warning",{enumerable:!0,get:function(){return o.warning}}),e.wrap=o.wrap,e.AnimatePresence=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:c=!0,mode:u="sync"})=>{o.invariant(!r,"Replace exitBeforeEnter with mode='wait'");const l=i.useContext(y).forceRender||sn()[0],h=on(),m=function(t){const e=[];return i.Children.forEach(t,(t=>{i.isValidElement(t)&&e.push(t)})),e}(t);let p=m;const f=i.useRef(new Map).current,g=i.useRef(p),v=i.useRef(new Map).current,x=i.useRef(!0);if(d((()=>{x.current=!1,function(t,e){t.forEach((t=>{const n=hn(t);e.set(n,t)}))}(m,v),g.current=p})),ln((()=>{x.current=!0,v.clear(),f.clear()})),x.current)return a.createElement(a.Fragment,null,p.map((t=>a.createElement(cn,{key:hn(t),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:c,mode:u},t))));p=[...p];const P=g.current.map(hn),E=m.map(hn),T=P.length;for(let i=0;i<T;i++){const t=P[i];-1!==E.indexOf(t)||f.has(t)||f.set(t,void 0)}return"wait"===u&&f.size&&(p=[]),f.forEach(((t,n)=>{if(-1!==E.indexOf(n))return;const i=v.get(n);if(!i)return;const o=P.indexOf(n);let r=t;if(!r){const t=()=>{v.delete(n),f.delete(n);const t=g.current.findIndex((t=>t.key===n));if(g.current.splice(t,1),!f.size){if(g.current=m,!1===h.current)return;l(),s&&s()}};r=a.createElement(cn,{key:hn(i),isPresent:!1,onExitComplete:t,custom:e,presenceAffectsLayout:c,mode:u},i),f.set(n,r)}p.splice(o,0,r)})),p=p.map((t=>{const e=t.key;return f.has(e)?t:a.createElement(cn,{key:hn(t),isPresent:!0,presenceAffectsLayout:c,mode:u},t)})),a.createElement(a.Fragment,null,f.size?p:p.map((t=>i.cloneElement(t))))},e.AnimateSharedLayout=({children:t})=>(a.useEffect((()=>{o.invariant(!1,"AnimateSharedLayout is deprecated: https://www.framer.com/docs/guide-upgrade/##shared-layout-animations")}),[]),a.createElement(fn,{id:F((()=>"asl-"+Jn++))},t)),e.DeprecatedLayoutGroupContext=mn,e.DragControls=Un,e.FlatTree=pe,e.LayoutGroup=fn,e.LayoutGroupContext=y,e.LazyMotion=function({children:t,features:e,strict:n=!1}){const[,o]=i.useState(!dn(e)),s=i.useRef(void 0);if(!dn(e)){const{renderer:t,...n}=e;s.current=t,g(n)}return i.useEffect((()=>{dn(e)&&e().then((({renderer:t,...e})=>{g(e),s.current=t,o(!0)}))}),[]),a.createElement(m.Provider,{value:{renderer:s.current,strict:n}},t)},e.MotionConfig=function({children:t,isValidProp:e,...n}){e&&M(e),(n={...i.useContext(u),...n}).isStatic=F((()=>n.isStatic));const o=i.useMemo((()=>n),[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return a.createElement(u.Provider,{value:o},t)},e.MotionConfigContext=u,e.MotionContext=l,e.PresenceContext=h,e.Reorder=Dn,e.SwitchLayoutGroupContext=v,e.addPointerEvent=_,e.addPointerInfo=X,e.animateVisualElement=pt,e.animationControls=In,e.animations=Et,e.calcLength=Vt,e.createDomMotionComponent=function(t){return P(H(t,{forwardMotionProps:!1},tn,Je))},e.createMotionComponent=P,e.domAnimation=wn,e.domMax=bn,e.filterProps=B,e.isDragActive=Q,e.isMotionComponent=zn,e.isValidMotionProp=R,e.m=nn,e.makeUseVisualState=U,e.motion=en,e.resolveMotionValue=O,e.startOptimizedAppearAnimation=function(t,e,n,i,s){const r=t.dataset[o.optimizedAppearDataId];if(!r)return;window.HandoffAppearAnimations=Yn;const a=Wn(r,e),c=o.animateStyle(t,e,[n[0],n[0]],{duration:1e4,ease:"linear"});$n.set(a,{animation:c,startTime:null});const u=()=>{c.cancel();const r=o.animateStyle(t,e,n,i);document.timeline&&(r.startTime=document.timeline.currentTime),$n.set(a,{animation:r,startTime:performance.now()}),s&&s(r)};c.ready?c.ready.then(u).catch(o.noop):u()},e.unwrapMotionComponent=function(t){if(zn(t))return t[x]},e.useAnimate=function(){const t=F((()=>({current:null,animations:[]}))),e=F((()=>o.createScopedAnimate(t)));return ln((()=>{t.animations.forEach((t=>t.stop()))})),[t,e]},e.useAnimation=On,e.useAnimationControls=Fn,e.useAnimationFrame=Bn,e.useCycle=function(...t){const e=i.useRef(0),[n,s]=i.useState(t[e.current]);return[n,i.useCallback((n=>{e.current="number"!=typeof n?o.wrap(0,t.length,e.current+1):n,s(t[e.current])}),[t.length,...t])]},e.useDeprecatedAnimatedState=function(t){const[e,n]=i.useState(t),o=Kn({},!1),s=F((()=>new _n({props:{},visualState:o,presenceContext:null},{initialState:t})));return i.useEffect((()=>(s.mount({}),()=>s.unmount())),[s]),i.useEffect((()=>{s.update({onUpdate:t=>{n({...t})}},null)}),[n,s]),[e,F((()=>t=>pt(s,t)))]},e.useDeprecatedInvertedScale=function(t){let e=Pn(1),n=Pn(1);const{visualElement:s}=i.useContext(l);return o.invariant(!(!t&&!s),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),o.warning(Zn,"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead."),Zn=!0,t?(e=t.scaleX||e,n=t.scaleY||n):s&&(e=s.getValue("scaleX",1),n=s.getValue("scaleY",1)),{scaleX:Tn(e,qn),scaleY:Tn(n,qn)}},e.useDomEvent=function(t,e,n,o){i.useEffect((()=>{const i=t.current;if(n&&i)return W(i,e,n,o)}),[t,e,n,o])},e.useDragControls=function(){return F(Gn)},e.useElementScroll=function(t){return Mn({container:t})},e.useForceUpdate=sn,e.useInView=function(t,{root:e,margin:n,amount:s,once:r=!1}={}){const[a,c]=i.useState(!1);return i.useEffect((()=>{if(!t.current||r&&a)return;const i={root:e&&e.current||void 0,margin:n,amount:"some"===s?"any":s};return o.inView(t.current,(()=>(c(!0),r?void 0:()=>c(!1))),i)}),[e,t,n,r]),a},e.useInstantLayoutTransition=Nn,e.useInstantTransition=function(){const[t,e]=sn(),n=Nn();return i.useEffect((()=>{o.frame.postRender((()=>o.frame.postRender((()=>o.instantAnimationState.current=!1))))}),[e]),e=>{n((()=>{o.instantAnimationState.current=!0,t(),e()}))}},e.useIsPresent=function(){return null===(t=i.useContext(h))||t.isPresent;var t},e.useIsomorphicLayoutEffect=d,e.useMotionTemplate=function(t,...e){const n=t.length;return En(e.filter(o.isMotionValue),(function(){let i="";for(let s=0;s<n;s++){i+=t[s];const n=e[s];n&&(i+=o.isMotionValue(n)?n.get():n)}return i}))},e.useMotionValue=Pn,e.useMotionValueEvent=Vn,e.usePresence=Xe,e.useReducedMotion=kn,e.useReducedMotionConfig=function(){const t=kn(),{reducedMotion:e}=i.useContext(u);return"never"!==e&&("always"===e||t)},e.useResetProjection=function(){return a.useCallback((()=>{const t=Ge.current;t&&t.resetTree()}),[])},e.useScroll=Mn,e.useSpring=function(t,e={}){const{isStatic:n}=i.useContext(u),s=i.useRef(null),r=Pn(o.isMotionValue(t)?t.get():t),a=()=>{s.current&&s.current.stop()};return i.useInsertionEffect((()=>r.attach(((t,i)=>{if(n)return i(t);if(a(),s.current=o.animateValue({keyframes:[r.get(),t],velocity:r.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:i}),!o.frameData.isProcessing){const t=performance.now()-o.frameData.timestamp;t<30&&(s.current.time=o.millisecondsToSeconds(t))}return r.get()}),a)),[JSON.stringify(e)]),d((()=>{if(o.isMotionValue(t))return t.on("change",(t=>r.set(parseFloat(t))))}),[r]),r},e.useTime=function(){const t=Pn(0);return Bn((e=>t.set(e))),t},e.useTransform=Tn,e.useUnmountEffect=ln,e.useVelocity=function(t){const e=Pn(t.getVelocity());return Vn(t,"velocityChange",(t=>{e.set(t)})),e},e.useViewportScroll=function(){return Mn()},e.useWillChange=function(){return F((()=>new jn("auto")))}}}]);
//# sourceMappingURL=39bfb2bb-ee5349eb8f0aba22a942.js.map